<html ng-app="musicBattleApp">
	<head>
		<title>Music Battle now !</title>
		<!--Libraries-->	
		<script src="node_modules/angular/angular.js"></script>
		<script src="node_modules/angular-messages/angular-messages.min.js"></script>
		<script src="node_modules/jquery/dist/jquery.min.js"></script>
		<script src="node_modules/noty/js/noty/packaged/jquery.noty.packaged.min.js"></script>
		<!-- Music Battle modules -->
		<script src="js/app.js"></script>
		<script src="js/playerController.js"></script>
		<script src="js/themeController.js"></script>
	</head>	
	<body>
		<div ng-controller="PlayerController">
			<div ng-show="playerSet">
				Welcome <b>{{playerName}}</b>
				<input type="button" ng-click="simulateNewPlayer()" value="Simulate !" ng-show="testMode" />
			</div>
			<div ng-show="!playerSet">
				<form  name="playerForm" ng-submit="playerForm.$valid && playerReady()">
					Hey ! Welcome here! What's your name ?<br />
					<input type="text" ng-model="playerName" name="playerName" required ng-minlength="4"><br />
					
					 <div ng-messages="playerForm.playerName.$error" ng-show="playerForm.$dirty" ng-messages-multiple>
						<p ng-message="minlength">Your name is too short.</p>
						<p ng-message="required">Your name is required.</p>
					</div>

					
					<!--<input type="button" ng-click="playerReady()" value="Fight !" ng-disabled="playerForm.playerName.$error.required || playerForm.playerName.$error.minlength " />-->
				</form>
			</div>
			<div ng-show="playerSet">
					These are the players playing at the moment : 
				<span style="display:block" ng-repeat="(key, value) in players">{{value}}</span>	
			</div>
			
			
		</div>
		
		<!--Theme selection -->
		<div ng-controller="ThemeController" ng-show="playing && mustSelectTheme" >
			Pick a theme : 
			<select ng-model="selectedTheme" ng-options="theme as theme.name for theme in themes"></select>
			<input type="button" ng-click="themeSelected()" value="Select theme" />		
		</div>
	</body>
	
</html>
	